// EISV Discovery Knowledge Graph
// Generate PNG: dot -Tpng eisv_discovery_graph.dot -o eisv_discovery_graph.png
// Generate SVG: dot -Tsvg eisv_discovery_graph.dot -o eisv_discovery_graph.svg

digraph EISV_Knowledge {
    // Graph properties
    rankdir=TB;
    node [shape=box, style=filled, fontname="Arial"];
    edge [fontname="Arial", fontsize=10];

    // Legend
    subgraph cluster_legend {
        label="Legend";
        style=filled;
        color=lightgrey;

        hypothesis [fillcolor=lightyellow, label="Hypothesis"];
        experiment [fillcolor=lightblue, label="Experiment"];
        discovery [fillcolor=lightgreen, label="Discovery"];
        rejected [fillcolor=salmon, label="Rejected"];
        option [fillcolor=lavender, label="Option"];
    }

    // Hypotheses
    orig_hyp [fillcolor=salmon, label="Original Hypothesis\n(REJECTED)\n\nEISV measures\ncognitive state\nfrom text\n\nRÂ²=0.000", shape=ellipse];

    // System
    eisv_sys [fillcolor=lightblue, label="EISV System\n\nThermodynamic\nGovernance MCP"];

    // Metrics
    subgraph cluster_metrics {
        label="EISV Metrics";
        style=filled;
        color=lightgrey;

        E [fillcolor=lightcyan, label="Energy (E)\nE(n) = 0.702 + 0.0037n"];
        I [fillcolor=lightcyan, label="Integrity (I)\nI(n) = 0.809 + 0.0093n"];
        S [fillcolor=lightcyan, label="Entropy (S)\nS(n) = 0.181 - 0.0112n"];
        V [fillcolor=lightcyan, label="Void (V)\nV(n) = -0.003 - 0.0030n"];
    }

    coherence [fillcolor=lightcyan, label="Coherence\nâˆš(EÂ·I - SÂ·V)"];
    regime [fillcolor=lightcyan, label="Regime\nEXPLORATION\nâ†“\nCONVERGENCE"];

    // Experiments
    val_study [fillcolor=lightblue, label="Validation Study\nPhase 1\n\n11 cognitive scenarios\nResult: RÂ²=0.000"];

    test1 [fillcolor=lightblue, label="Test 1:\nUpdate Count Effect\n\n10 updates, constant params\nE: +5.3%, I: +11.5%\nS: -61.9%"];

    test2 [fillcolor=lightblue, label="Test 2:\nComplexity Effect\n\nVaried 0.1â†’0.9â†’0.1\nMetrics unchanged\nEffect size: 0.00"];

    test3 [fillcolor=lightblue, label="Test 3:\nText Content Effect\n\n6-340 char range (50x)\nNo deviation\nEffect size: 0.00"];

    test4 [fillcolor=lightblue, label="Test 4:\nTime Elapsed Effect\n\n0.3s vs 5.0s (16.7x)\nIdentical changes\nEffect size: 0.00"];

    // Discoveries
    main_disc [fillcolor=lightgreen, label="ðŸ’¡ MAIN DISCOVERY\n\nEISV metrics driven\nPURELY by update count\n\nComplexity: IGNORED\nText content: IGNORED\nTime: IGNORED\n\nConfidence: 99%", shape=box, style="filled,bold", penwidth=3];

    linear_model [fillcolor=lightgreen, label="Linear Progression Model\n\nFixed trajectory\nbased on update count\n\nAccuracy: 99.9%"];

    method_disc [fillcolor=lightgreen, label="Methodology Success\n\nControlled isolation tests\nwork for validating\nAI cognitive systems"];

    // Use Case Impact
    meta_cog [fillcolor=salmon, label="Meta-Cognitive AI\nUse Case\n\nNOT VIABLE\nwith current system\n\nMetrics don't reflect\ncognitive state", shape=ellipse];

    // Paths Forward
    subgraph cluster_options {
        label="Paths Forward";
        style=filled;
        color=lightgrey;

        opt1 [fillcolor=lavender, label="Option 1: FIX\n\nWire complexity\ninto dynamics\n\nEffort: HIGH\nTimeline: weeks"];

        opt2 [fillcolor=lavender, label="Option 2: REPURPOSE\n\nAgent Experience\nTracker\n\nEffort: LOW\nTimeline: days"];

        opt3 [fillcolor=lavender, label="Option 3: HYBRID\n\nAdd text analysis\nlayer\n\nEffort: MEDIUM\nTimeline: weeks"];

        opt4 [fillcolor=lavender, label="Option 4: ABANDON\n\nStart fresh\nvalidation-first\n\nEffort: RESTART\nTimeline: months"];
    }

    // Relationships

    // System to metrics
    eisv_sys -> {E I S V} [label="implements"];
    {E I S V} -> coherence [label="combines to"];
    S -> regime [label="determines"];

    // Hypothesis testing
    orig_hyp -> val_study [label="tested by"];
    val_study -> main_disc [label="led to"];

    orig_hyp -> {test1 test2 test3 test4} [label="tested by", style=dashed];

    // Experiments validate discovery
    {test1 test2 test3 test4} -> main_disc [label="proves", color=green, penwidth=2];

    // Test 1 identifies equations
    test1 -> {E I S V} [label="identified equation", color=blue];
    test1 -> linear_model [label="supports"];

    // Tests 2,3,4 prove zero effects
    test2 -> main_disc [label="complexity\nhas no effect", color=red, style=dashed];
    test3 -> main_disc [label="content\nhas no effect", color=red, style=dashed];
    test4 -> main_disc [label="time\nhas no effect", color=red, style=dashed];

    // Discovery impacts
    main_disc -> linear_model [label="explains"];
    main_disc -> meta_cog [label="invalidates", color=red, penwidth=2];
    main_disc -> {opt1 opt2 opt3 opt4} [label="suggests"];

    // Methodology
    {test1 test2 test3 test4} -> method_disc [label="demonstrates"];

    // Contradictions
    main_disc -> orig_hyp [label="REJECTS", color=red, penwidth=3, style=bold];
}
